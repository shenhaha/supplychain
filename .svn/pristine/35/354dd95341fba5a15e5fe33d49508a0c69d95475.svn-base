<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<c:set var="ctx" value="${pageContext.request.contextPath}"/>
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<html>
<head>
    <title>查看证件</title>
    <style type="text/css">
        #big {
            border-top: 1px solid #000;
            width: 800px;
            height: 400px;
            align-content: center;
            margin: 0px auto;
        }

        .one {
            width: 395px;
            height: 400px;
            border: 1px solid #888;

            Float: right;
        }

        .two {
            width: 395px;
            height: 400px;
            border: 1px solid #888;
            align-content: center;
            Float: left;
        }

        #affirm {
            width: 120px;
            height: 38px;
           /* margin: 10px 100px 0px 20px;*/
        }

        #off {
            width: 120px;
            height: 38px;
            /*margin: 10px 100px 0px 250px;*/
        }

        .select2 {
            margin: -50px 50px 10px 55px;
        }

        .select1 {
            margin: 80px 0px 0px 455px;
        }

        #result img {
            width: 395px;
            height: 400px;
        }

        #result2 img {
            width: 395px;
            height: 400px;
        }

        @-moz-document url-prefix() {
            input {
                width: 65px;
            }
        }

        /*单独对火狐进行设置*/
    </style>
</head>
<body style="background-color:#FAFAD2;">
<div class="pull-left">
    <ol class="breadcrumb">
        <li><a href="${ctx}/index">首页</a></li>
        <li class="active">查看证件</li>
    </ol>
</div>
<div id="big">
    <form action="javascript:void(0)">
        <!--图片：1-->
        <div id="result2" class="two">证件1</div>
        <!--图片：2-->
        <div id="result" class="one">证件2</div>
        <span id=span1>
        <input id="pic" class="select1" type="file" name='file' accept="image/*" onchange="selectFile()"/>
         </span>
 <span id=span2>

        <input id="ppp" class="select2" type="file" name='file' accept="image/*" onchange="selectFile2()"/>
    </span>
        <div>
            <input type="submit" class="btn btn-info" value="上传" id="affirm"/>
            <input type="button" class="btn btn-info" value="删除" id="off" onclick="deleteall()"/>
        </div>
    </form>
</div>


<script type="text/javascript">
    //图二
    var form = new FormData();//通过HTML表单创建FormData对象
    var url = '127.0.0.1:8080/'

    function selectFile() {
        var files = document.getElementById('pic').files;
        console.log(files[0]);
        if (files.length == 0) {
            return;
        }
        var file = files[0];
        //把上传的图片显示出来
        var reader = new FileReader();
        // 将文件以Data URL形式进行读入页面

        console.log(reader);
        reader.readAsBinaryString(file);
        reader.onload = function (f) {
            var result = document.getElementById("result");
            var src = "data:" + file.type + ";base64," + window.btoa(this.result);
            result.innerHTML = '<img src ="' + src + '"/>';
        }
        console.log('file', file);
        form.append('file', file);
        console.log(form.get('file'));
    }

    $(".addimg-LiuLan").change(function () {
        var objUrl = getObjectURL(this.files[0]);
        console.log("objUrl = " + objUrl);
        if (objUrl) {
            $(".addimg-Kuang").attr("src", objUrl);
        }
    });


    //图一
    var form = new FormData();
    var url = '127.0.0.1:8080/'

    function selectFile2() {
        var files = document.getElementById('ppp').files;
        console.log(files[0]);
        if (files.length == 0) {
            return;
        }
        var file = files[0];
        //把上传的图片显示出来
        var reader2 = new FileReader();
        //将文件以Data URL形式进行读入页面
        console.log(reader2);
        reader2.readAsBinaryString(file);
        reader2.onload = function (f) {
            var result = document.getElementById("result2");
            var src = "data:" + file.type + ";base64," + window.btoa(this.result);
            result.innerHTML = '<img src ="' + src + '"/>';
        }
        console.log('file', file);
        form.append('file', file);
        console.log(form.get('file'));
    }

    $(".addimg-LiuLan").change(function () {
        var objUrl = getObjectURL(this.files[0]);
        console.log("objUrl = " + objUrl);
        if (objUrl) {
            $(".addimg-Kuang").attr("src", objUrl);
        }
    });

    //清空所选图片
    function deleteall() {
        document.getElementById("span1").innerHTML = "<input   name=ab   type=file>";
        document.getElementById("span2").innerHTML = "<input   name=ab   type=file>";
    }
</script>
</body>
</html>
