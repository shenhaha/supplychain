package com.luer.storemanager.controller;

import com.luer.comm.utils.ResultSet;
import com.luer.storemanager.bean.ItemsUse;
import com.luer.storemanager.service.ItemsUseService;
import lombok.NonNull;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.servlet.ModelAndView;

import java.util.List;

/**
 * 物品使用控制层
 *
 * @ClassName ItemsUseController
 * @Author GavinJiang
 * @Date 2018/8/17 11:13.
 */
@Controller
@RequestMapping("itemsUse")
public class ItemsUseController {
    @Autowired
    private ItemsUseService itemsUseService;
    

    /**
     * 查询所有的物品使用信息
     *
     * @return com.luer.comm.utils.ResultSet
     * @author GavinJiang
     * @date 2018/8/17 11:32
     * @params
     */
    @ResponseBody
    @RequestMapping("selectItemsUseAll")
    public List<ItemsUse> selectItemsUseAll() {
        List<ItemsUse> selectItemsUseAll = itemsUseService.selectItemsUse();
        return selectItemsUseAll;
    }


    /**
     * 添加物品使用信息
     *
     * @param itemsUse
     * @return com.luer.comm.utils.ResultSet
     * @author GavinJiang
     * @date 2018/8/17 11:32
     * @params
     */
    @ResponseBody
    @RequestMapping("addItemsUse")
    public ResultSet addItemsUse(ItemsUse itemsUse) {
        itemsUseService.insert(itemsUse);
        return ResultSet.getSuccess();
    }


    /**
     * 修改物品使用信息
     *
     * @param itemsUse
     * @return com.luer.comm.utils.ResultSet
     * @author GavinJiang
     * @date 2018/8/17 11:32
     * @params
     */
    @ResponseBody
    @RequestMapping("updateItemsUse")
    public ResultSet updateItemsUse(ItemsUse itemsUse) {
        itemsUseService.updateByPrimaryKeySelective(itemsUse);
        return ResultSet.getSuccess();
    }


    /**
     * 根据id删除物品使用信息
     *
     * @param id
     * @return com.luer.comm.utils.ResultSet
     * @author GavinJiang
     * @date 2018/8/17 11:32
     * @params
     */
    @ResponseBody
    @RequestMapping("daleteItemsUse")
    public ResultSet daleteItemsUse(@NonNull String id) {
        itemsUseService.deleteByPrimaryKey(id);
        return ResultSet.getSuccess();
    }


    /**
     * 根据id批量删除物品使用信息
     *
     * @param ids
     * @return com.luer.comm.utils.ResultSet
     * @author GavinJiang
     * @date 2018/8/17 11:33
     * @params
     */
    @ResponseBody
    @RequestMapping("daleteItemsUses")
    public ResultSet daleteItemsUses(@NonNull String ids) {
        String[] id = ids.split(",");
        for (int i = 0; i < id.length; i++) {
            itemsUseService.deleteByPrimaryKey(id[i]);
        }
        return ResultSet.getSuccess();
    }
}
