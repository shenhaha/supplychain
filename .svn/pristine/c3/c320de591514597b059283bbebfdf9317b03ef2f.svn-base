package com.luer.storemanager.controller;

import com.luer.comm.utils.ResultSet;
import com.luer.storemanager.bean.Items;
import com.luer.storemanager.service.ItemsService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.servlet.ModelAndView;

import java.util.List;

/**
 * 商品记录控制类
 * @ClassName ItemsController
 * @Author GavinJiang
 * @Date 2018/8/16 17:08.
 */
@Controller
@RequestMapping("/items")
public class ItemsController {
    @Autowired
    private ItemsService itemsService;


    /**
     * 查询所有的商品信息
     *
     * @return com.luer.comm.utils.ResultSet
     * @author GavinJiang
     * @date 2018/8/16 17:34
     * @params
     */
    @ResponseBody
    @RequestMapping("selectItemsAll")
    public List<Items> selectItemsAll() {
        List<Items> itemsAll=itemsService.selectItems();
        return itemsAll;
    }

    /**
     * 添加商品信息
     *
     * @param items
     * @return com.luer.comm.utils.ResultSet
     * @author GavinJiang
     * @date 2018/8/16 17:39
     * @params
     */
    @ResponseBody
    @RequestMapping("addItems")
    public ResultSet addItems(Items items) {
        itemsService.insert(items);
        return ResultSet.getSuccess();
    }

    /**
     * 修改商品信息
     *
     * @param items
     * @return com.luer.comm.utils.ResultSet
     * @author GavinJiang
     * @date 2018/8/16 17:40
     * @params
     */
    @ResponseBody
    @RequestMapping("updateItems")
    public ResultSet updateItems(Items items) {
        itemsService.updateByPrimaryKeySelective(items);
        return ResultSet.getSuccess();
    }

    /**
     * 通过id删除商品信息
     *
     * @param id
     * @return com.luer.comm.utils.ResultSet
     * @author GavinJiang
     * @date 2018/8/16 17:41
     * @params
     */
    @ResponseBody
    @RequestMapping("deleteItems")
    public ResultSet deleteItems(String id) {
        itemsService.deleteByPrimaryKey(id);
        return ResultSet.getSuccess();
    }

    /**
     * 通过id删除商品信息
     *
     * @param ids
     * @return com.luer.comm.utils.ResultSet
     * @author GavinJiang
     * @date 2018/8/16 17:41
     * @params
     */
    @ResponseBody
    @RequestMapping("deleteItemss")
    public ResultSet deleteItemss(String ids) {
        String[] id = ids.split(",");
        for (int i = 0; i < id.length; i++) {
            itemsService.deleteByPrimaryKey(id[i]);
        }
        return ResultSet.getSuccess();
    }
}
