<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="spring" uri="http://www.springframework.org/tags" %>
<c:set var="ctx" value="${pageContext.request.contextPath}" />
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <%--定义页面title图标--%>
    <link rel="shortcut icon" type="image/png" sizes="16x16" href="${ctx}/static/image/favicon.ico">
    <title>登陆页面</title>
    <!-- Bootstrap Core CSS -->
    <link href="${ctx}/static/css/bootstrap-extension.css" rel="stylesheet">

    <link href="${ctx}/static/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="${ctx}/static/css/font-awesome.css" rel="stylesheet">
    <!-- animation CSS -->
    <link href="${ctx}/static/css/animate.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="${ctx}/static/css/style.css" rel="stylesheet" type="text/css">
    <!-- color CSS -->
    <link href="${ctx}/static/css/blue.css" id="theme" rel="stylesheet">
    <style>
        body {
            background:#2d3b36 url(${ctx}/static/image/login.png)no-repeat center center fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
            padding-top:20px;
        }

        .bg {
            /*背景色*/
            background-color:#FFFFFF;
            /*边框*/
            border:1px solid #111111;
            /*去掉边框*/
            border:none;
        }

        form {

            margin-left:auto;
            margin-right:auto;
            width: 400px;
            height: 333px;
            padding:30px;
            border: 1px solid rgba(125,0,0,0);
            -moz-border-radius: 5px;
            -webkit-border-radius: 5px;
            border-radius: 5px;
            -moz-background-clip: padding;
            -webkit-background-clip: padding-box;
            background-clip: padding-box;
            background: rgba(0, 0, 0,0.05);
            -moz-box-shadow: 0 0 13px 3px rgba(0,0,0,0.2);
            -webkit-box-shadow: 0 0 13px 3px rgba(0,0,0,0.1);
            box-shadow: 0 0 13px 3px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        .Form{
            position: absolute;
            text-align: center;
            top: 50%;
            left: 50%;
            margin-top: -200px;
            margin-left: -200px;
        }
        .name{
            border:solid 2px #ccc;
            width:350px;height:40px;
            background:url(${ctx}/static/image/zhanghao.png) no-repeat 0 center;
        }
        .password{
            border:solid 2px #ccc;
            width:350px;height:40px;
            background:url(${ctx}/static/image/mima.png) no-repeat 0 center;
        }
        .name input{
            float:left;
            border:none;
            background:none;
            height:40px;line-height:30px;
            width:100%; text-indent:32px;
        }
        .password input{
            float:left;border:none;
            background:none;height:40px;
            line-height:30px;
            width:100%; text-indent:32px;
        }
</style>


</head>

<body>
<!-- Preloader -->
<div class="preloader">
    <div class="cssload-speeding-wheel"></div>
</div>
<div class="Form">
            <form  class="form-horizontal form-material" id="myform" name="myform" method="post" action="${ctx}/login">
                <div style="text-align: center"><a class="logo"><img src="${ctx}/static/image/logo.png" alt="home"/></a></div>
                <div class="form-group ">
                    <div class="name">
                        <input type="text" class="form-control" id="username" name="username" placeholder="请输入用户名"/>
                    </div>
                </div>
                <div class="form-group" id="error">
                    <div class="password">
                        <input class="form-control" type="password" required="" name="password" placeholder="请输入密码" />
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-12">
                        <div class="checkbox checkbox-primary pull-left p-t-0">

                        <input id="checkbox-signup" type="checkbox">
                        <label for="checkbox-signup"><spring:message code="rempassword"></spring:message> </label>
                        </div>
                        <%--<div style="float: right" >
                        <select onchange="javascript:location.href='${ctx}/login?language='+this.value">
                        <option>--请选择语言--</option>
                        <option value="zh_cn">中文简体</option>
                        <option value="en_us">English</option>
                        <option value="cf">中文繁體</option>
                        </select>
                        </div>--%>
                    </div>
                </div>
                <div class="form-group text-center m-t-20">
                    <div class="col-xs-12" >
                        <button  class="btn" type="button" onclick="login()" style="background-color: #d96e78;width: 335px;height: 40px;color: #1d1e1f;font-size: 20px">登&nbsp;&nbsp;&nbsp;陆</button>
                    </div>
                </div>
            </form>
</div>
<!-- Bootstrap Core CSS -->
<link rel="shortcut icon" href="${ctx}/static/image/favicon.ico">
<!-- jQuery -->
<script src="${ctx}/static/js/jquery.min.js"></script>
<!-- Bootstrap Core JavaScript -->
<script src="${ctx}/static/bootstrap/dist/js/tether.min.js"></script>
<script src="${ctx}/static/bootstrap/bootstrap.min.js"></script>
<script src="${ctx}/static/js/bootstrap-extension.min.js"></script>
<!-- Menu Plugin JavaScript -->
<script src="${ctx}/static/js/sidebar-nav.min.js"></script>
<!--slimscroll JavaScript -->
<script src="${ctx}/static/js/jquery.slimscroll.js"></script>
<!--Wave Effects -->
<script src="${ctx}/static/js/waves.js"></script>
<!-- Custom Theme JavaScript -->
<script src="${ctx}/static/js/custom.min.js"></script>
<!--Style Switcher -->
<script src="${ctx}/static/js/jQuery.style.switcher.js"></script>
<script src="${ctx}/static/js/jquery.form.js"></script>
<script>
    $(document).keyup(function(event){
        if(event.keyCode ==13){
            login();
        }
    });
</script>
<script>
    document.getElementById("username").focus();
    function login(){
        $("#myform").ajaxSubmit({
            dataType : "json",
            type :  "post",
            success : function(data){
                if (data.code==200) {
                    window.location.href="${ctx}/index";
                }else{$('#lable1').remove();
                    $('#error').append('<lable style="color: black" id="lable1">用户名或密码错误</lable>')
                }
            }
        });
    }
</script>
</body>

</html>

