package com.luer.stockandsales.controller;

import com.luer.comm.utils.ResultSet;
import com.luer.stockandsales.bean.OrderDetails;
import com.luer.stockandsales.service.OrderDetailsService;
import lombok.NonNull;
import org.apache.ibatis.annotations.Param;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;

import java.util.List;

@Controller
@RequestMapping(value = "/orderdetails")
public class OrderDetailsController {
    //订单详情
    @Autowired
    private OrderDetailsService orderDetailsService;

    //添加订单详情
    @ResponseBody
    @RequestMapping("/insertOrderDetails")
    public ResultSet insertOrderDetails(@NonNull OrderDetails orderDetails) {

        orderDetailsService.insertOrderDetails(orderDetails);
        return ResultSet.getSuccess();
    }


    //删除订单详情
    @ResponseBody
    @RequestMapping("/deleteOrderDetails")
    public ResultSet deleteOrderDetails(@NonNull String id) {

        orderDetailsService.deleteOrderDetails(id);
        return ResultSet.getSuccess();
    }

    //修改订单详情
    @ResponseBody
    @RequestMapping("/updateOrderDetails")
    public ResultSet updateOrderDetails(@NonNull OrderDetails orderDetails) {

        orderDetailsService.updateOrderDetails(orderDetails);
        return ResultSet.getSuccess();
    }

    //查询订单详情
    @ResponseBody
    @RequestMapping("/selectByOrderId")
    public List<OrderDetails> selectByOrderId(String orderId) {

        return orderDetailsService.selectByOrderId(orderId);
    }
    //分公司查询门店订单详情
    @ResponseBody
    @RequestMapping("/selectByStoreOrderId")
    public List<OrderDetails> selectByStoreOrderId(@Param("orderId") String orderId, @Param("detailstype")Integer detailstype) {

        return orderDetailsService.selectByStoreOrderId(orderId,detailstype);
    }
    //总部查询订单详情
    @ResponseBody
    @RequestMapping("/selectByHeadOrderId")
    public List<OrderDetails> selectByHeadOrderId(@Param("orderId") String orderId) {

        return orderDetailsService.selectByOrderId(orderId);
    }
}
